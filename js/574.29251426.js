"use strict";(self["webpackChunkimage_online_tools"]=self["webpackChunkimage_online_tools"]||[]).push([[574],{5706:function(a,t,e){e.r(t),e.d(t,{default:function(){return v}});var n=function(){var a=this,t=a._self._c;return t("div",[t("HeaderOnlineTools"),t("Breadcrumb",{attrs:{pageId:"grayscale-image-online"}}),a._m(0),t("br"),a.uploadedImage.imageData?a._e():t("div",{staticClass:"home"},[t("h2",[a._v("Select image")]),t("input",{attrs:{type:"file",id:"inputImage"},on:{change:a.onImageUpload}})]),t("img",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticStyle:{position:"absolute",visibility:"hidden"},attrs:{src:a.uploadedImage.imageData,id:"original_image"},on:{load:a.onImageLoad}}),a.uploadedImage.imageData?t("div",{staticClass:"imageGridLayout"},[t("div"),t("div",{staticClass:"div_image"},[t("canvas",{staticStyle:{border:"1px solid #000000"},attrs:{id:"resultCanvas",width:a.canvasWidth,height:a.canvasHeight}}),t("br"),t("br"),a._m(1),t("div",[a._v("width: "+a._s(a.uploadedImage.width))]),t("div",[a._v("height: "+a._s(a.uploadedImage.height))])]),t("div",{staticClass:"div_options"},[a.readyToDownload?a._e():t("div",[t("button",{staticClass:"btn btn-lg btn-primary",attrs:{type:"button"},on:{click:function(t){return a.triggerUpdateImage()}}},[a._v("Convert to grayscale")])]),a.readyToDownload?t("div",[t("div",[a._v("Image successfully converted to grayscale")]),t("br"),t("button",{staticClass:"btn btn-lg btn-success",attrs:{type:"button"},on:{click:function(t){return a.downloadResultImage()}}},[t("IconDownload",{attrs:{size:24}}),a._v(" Download image")],1)]):a._e()]),t("div")]):a._e(),t("br"),t("FooterComponent")],1)},o=[function(){var a=this,t=a._self._c;return t("div",{staticClass:"documentationContent"},[t("h1",[a._v("Grayscale image online")]),t("p",[a._v("This free online tool allows you to convert images to grayscale.")]),t("h2",[a._v("How to convert an image to grayscale?")]),t("p",[a._v("You can easily convert an image to grayscale by following these steps:")]),t("ol",[t("li",[a._v("Upload the photo that you want to convert to grayscale. The image will load in the canvas.")]),t("li",[a._v('Click button "Convert to grayscale".')]),t("li",[a._v('Click button "Download image".')])])])},function(){var a=this,t=a._self._c;return t("div",[t("b",[a._v("Original image details:")])])}],i=e(8528),l=e(8405),s=e(4138),d=e(7e3),r=e(3162),g={name:"GrayscaleImage",components:{HeaderOnlineTools:i.Z,FooterComponent:l.Z,IconDownload:d.Z,Breadcrumb:s.Z},data(){return{canvasWidth:100,canvasHeight:100,uploadedImage:{imageData:null,width:null,height:null},options:{angle:0},applyConvertToGrayscale:!1,readyToDownload:!1}},methods:{onImageUpload(a){const t=a.target.files[0];window.file=t;let e=this,n=new FileReader;n.readAsDataURL(t),n.onload=function(){e.uploadedImage.imageData=n.result,e.$forceUpdate()},n.onerror=function(a){console.log("Error: ",a)}},onImageLoad(){let a=document.getElementById("original_image");this.uploadedImage.width=a.naturalWidth,this.uploadedImage.height=a.naturalHeight,this.canvasWidth=a.naturalWidth,this.canvasHeight=a.naturalHeight,this.$nextTick((()=>{this.updateResultCanvas()}))},downloadResultImage(){let a=document.getElementById("resultCanvas"),t=a.getContext("2d"),e=t.canvas.width,n=t.canvas.height,o=document.createElement("canvas");o.width=e,o.height=n,this.updateCanvas(o,!1),o.toBlob((function(a){(0,r.saveAs)(a,"Image.png")}))},triggerUpdateImage(){this.applyConvertToGrayscale=!0,this.updateResultCanvas(),this.readyToDownload=!0},updateResultCanvas(){let a=document.getElementById("resultCanvas");this.updateCanvas(a,!0)},updateCanvas(a,t){let e=a,n=e.getContext("2d"),o=n.canvas.width,i=n.canvas.height,l=document.getElementById("original_image"),s=document.createElement("canvas");s.width=o,s.height=i;let d=s.getContext("2d");d.drawImage(l,0,0);let r=d.getImageData(0,0,o,i),g=d.getImageData(0,0,o,i);if(this.applyConvertToGrayscale)for(let c=0;c<r.data.length;c+=4){let a=r.data[c],t=r.data[c+1],e=r.data[c+2],n=(a+t+e)/3;n=Math.round(n),g.data[c]=n,g.data[c+1]=n,g.data[c+2]=n}n.clearRect(0,0,o,i),t&&this.drawBackground(n),n.putImageData(g,0,0)},drawBackground(a){a.save();let t=a.canvas.width,e=a.canvas.height,n=10,o=10,i=e/o,l=t/n,s="#CCCCCC",d="#EEEEEE",r=0,g=0;for(let c=0;c<i;c++)for(let t=0;t<l;t++){let e=(c+t)%2==0,i=e?s:d;a.fillStyle=i,a.fillRect(t*n+r,c*o+g,n,o)}a.restore()}}},c=g,u=e(1001),h=(0,u.Z)(c,n,o,!1,null,null,null),v=h.exports}}]);