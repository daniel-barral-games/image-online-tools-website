"use strict";(self["webpackChunkimage_online_tools"]=self["webpackChunkimage_online_tools"]||[]).push([[982],{4886:function(t,i,o){o.d(i,{Z:function(){return c}});var s=function(){var t=this,i=t._self._c;return i("div",{staticStyle:{"margin-top":"10px"}},[t.relatedTools.length>0?i("div",{staticClass:"relatedToolsDiv"},[i("h4",{staticStyle:{"font-weight":"700"}},[t._v("Related tools")]),i("div",{staticClass:"divOnlineTools"},t._l(t.relatedTools,(function(o){return i("a",{key:o.slug,staticClass:"divOnlineTool",attrs:{href:"/"+o.slug}},[i("b",[t._v(t._s(o.name))]),i("p",[t._v(t._s(o.shortDescription))]),null!=o.image?i("img",{staticClass:"divOnlineTool_img",attrs:{alt:o.imageAltText,src:o.image}}):t._e()])})),0)]):t._e()])},e=[],n=o(3026),a={name:"RelatedTools",components:{},props:{toolSlug:String},data(){return{}},mounted(){},computed:{relatedTools:function(){return n.Z.listRelatedTools(this.toolSlug)}},methods:{}},h=a,r=o(1001),p=(0,r.Z)(h,s,e,!1,null,"57fb0362",null),c=p.exports},1107:function(t,i,o){o.r(i),o.d(i,{default:function(){return g}});var s=function(){var t=this,i=t._self._c;return i("div",[i("HeaderOnlineTools"),i("Breadcrumb",{attrs:{pageId:"crop-image"}}),t._m(0),t.uploadedImage.imageData?t._e():i("div",{staticClass:"home"},[i("h2",[t._v("Select image")]),i("input",{attrs:{type:"file",id:"inputImage"},on:{change:t.onImageUpload}}),i("br"),i("br")]),i("img",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticStyle:{position:"absolute",visibility:"hidden"},attrs:{src:t.uploadedImage.imageData,id:"original_image"},on:{load:t.onImageLoad}}),t.uploadedImage.imageData?i("div",{staticClass:"imageGridLayout"},[i("div"),i("div",{staticClass:"div_image"},[i("canvas",{attrs:{id:"resultCanvas",width:t.canvasWidth,height:t.canvasHeight}}),i("br"),i("div",{staticStyle:{"margin-left":"30px"}},[t._m(1),i("div",[t._v("width: "+t._s(t.uploadedImage.width))]),i("div",[t._v("height: "+t._s(t.uploadedImage.height))])])]),i("div",{staticClass:"div_options"},[t._m(2),i("br"),i("div",{staticClass:"optionsLayout"},[i("div",{staticClass:"div_option"},[t._v("Position x (px)")]),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.cropOptions.x,expression:"cropOptions.x"}],staticClass:"input_option",attrs:{type:"text"},domProps:{value:t.cropOptions.x},on:{change:function(i){return t.updateResultCanvas()},input:function(i){i.target.composing||t.$set(t.cropOptions,"x",i.target.value)}}})]),i("div",{staticClass:"div_option"},[t._v("Position y (px)")]),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.cropOptions.y,expression:"cropOptions.y"}],staticClass:"input_option",attrs:{type:"text"},domProps:{value:t.cropOptions.y},on:{change:function(i){return t.updateResultCanvas()},input:function(i){i.target.composing||t.$set(t.cropOptions,"y",i.target.value)}}})]),i("div",{staticClass:"div_option"},[t._v("Width (px)")]),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.cropOptions.width,expression:"cropOptions.width"}],staticClass:"input_option",attrs:{type:"text"},domProps:{value:t.cropOptions.width},on:{change:function(i){return t.updateResultCanvas()},input:function(i){i.target.composing||t.$set(t.cropOptions,"width",i.target.value)}}})]),i("div",{staticClass:"div_option"},[t._v("Height (px)")]),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.cropOptions.height,expression:"cropOptions.height"}],staticClass:"input_option",attrs:{type:"text"},domProps:{value:t.cropOptions.height},on:{change:function(i){return t.updateResultCanvas()},input:function(i){i.target.composing||t.$set(t.cropOptions,"height",i.target.value)}}})])]),i("br"),i("div",[i("button",{staticClass:"btn btn-lg btn-success",attrs:{type:"button"},on:{click:function(i){return t.downloadCroppedImage()}}},[i("IconDownload",{attrs:{size:24}}),t._v(" Download cropped image")],1)])]),i("div")]):t._e(),t._m(3),i("RelatedTools",{attrs:{toolSlug:"crop-image"}}),i("FooterComponent")],1)},e=[function(){var t=this,i=t._self._c;return i("div",{staticClass:"documentationContent"},[i("h1",[t._v("Crop image online")]),i("p",[t._v("This free online tool allows you to crop images. You can define a rectangle in pixels and download the cropped the image.")]),i("h4",[t._v("How to crop an image online?")]),i("p",[t._v("With this online image cropping tool you can easily cut pictures by following these steps:")]),i("ol",[i("li",[t._v("Upload the photo that you want to crop. The image will load in the canvas.")]),i("li",[t._v("Choose the crop options: x, y, width and height.")]),i("li",[t._v('Click button "Download cropped image".')])])])},function(){var t=this,i=t._self._c;return i("div",[i("b",[t._v("Original image details:")])])},function(){var t=this,i=t._self._c;return i("div",[i("h3",[t._v("Crop options:")])])},function(){var t=this,i=t._self._c;return i("div",{staticClass:"documentationContent"},[i("h4",{attrs:{id:"configuration_parameters"}},[t._v("Crop configuration parameters")]),i("p",[t._v("Below are the parameters you can configure when cropping an image.")]),i("table",{staticClass:"documentation_table"},[i("tr",[i("th",[t._v("Field")]),i("th",[t._v("Description")])]),i("tr",[i("td",[t._v("Position x (px)")]),i("td",[t._v("The top left position x coordinate, in pixels.")])]),i("tr",[i("td",[t._v("Position y (px)")]),i("td",[t._v("The top left position y coordinate, in pixels.")])]),i("tr",[i("td",[t._v("Width (px)")]),i("td",[t._v("The width of the cropped image.")])]),i("tr",[i("td",[t._v("Height (px)")]),i("td",[t._v("The height of the cropped image.")])])])])}],n=o(8528),a=o(8405),h=o(4886),r=o(4138),p=o(7e3),c=o(3162),d={name:"ImageCrop",components:{RelatedTools:h.Z,HeaderOnlineTools:n.Z,FooterComponent:a.Z,IconDownload:p.Z,Breadcrumb:r.Z},data(){return{canvasMargin:30,canvasWidth:100,canvasHeight:100,uploadedImage:{imageData:null,width:null,height:null},baseImage:null,cropOptions:{x:0,y:0,width:1,height:1},mouseAction:"none",mousePosition:{x:0,y:0},previousMousePosition:{x:0,y:0},mouseDownPosition:{x:0,y:0}}},mounted(){},methods:{onImageUpload(t){const i=t.target.files[0];window.file=i;let o=this,s=new FileReader;s.readAsDataURL(i),s.onload=function(){o.uploadedImage.imageData=s.result,o.$forceUpdate()},s.onerror=function(t){console.log("Error: ",t)}},onImageLoad(){let t=document.getElementById("original_image");this.uploadedImage.width=t.naturalWidth,this.uploadedImage.height=t.naturalHeight,this.cropOptions.x=Math.round(.1*t.naturalWidth),this.cropOptions.y=Math.round(.1*t.naturalHeight),this.cropOptions.width=Math.round(.8*t.naturalWidth),this.cropOptions.height=Math.round(.8*t.naturalHeight),this.canvasWidth=t.naturalWidth+2*this.canvasMargin,this.canvasHeight=t.naturalHeight+2*this.canvasMargin,this.$nextTick((()=>{this.buildBaseImage(),this.updateResultCanvas(),document.getElementById("resultCanvas").addEventListener("mousemove",this.onCanvasMouseMove),document.getElementById("resultCanvas").addEventListener("mouseup",this.onCanvasMouseUp),document.getElementById("resultCanvas").addEventListener("mousedown",this.onCanvasMouseDown),document.getElementById("resultCanvas").addEventListener("mouseleave",this.onCanvasMouseLeave)}))},downloadCroppedImage(){let t=document.createElement("canvas");t.width=this.cropOptions.width,t.height=this.cropOptions.height;let i=t.getContext("2d");i.drawImage(document.getElementById("original_image"),-this.cropOptions.x,-this.cropOptions.y),t.toBlob((function(t){(0,c.saveAs)(t,"Image.png")}))},buildBaseImage(){let t=document.getElementById("original_image"),i=document.createElement("canvas");i.width=t.naturalWidth,i.height=t.naturalHeight;let o=i.getContext("2d");this.drawBackground(o),o.drawImage(t,0,0),this.baseImage=i},updateResultCanvas(){this.validateCropOptions();let t=document.getElementById("resultCanvas"),i=t.getContext("2d");i.save(),i.clearRect(0,0,this.canvasWidth,this.canvasHeight),i.filter="brightness(50%)",i.drawImage(this.baseImage,this.canvasMargin,this.canvasMargin),i.restore(),i.save(),i.drawImage(this.baseImage,this.cropOptions.x,this.cropOptions.y,this.cropOptions.width,this.cropOptions.height,this.cropOptions.x+this.canvasMargin,this.cropOptions.y+this.canvasMargin,this.cropOptions.width,this.cropOptions.height),this.drawBorder(i),this.drawRect(i),this.drawCircles(i)},validateCropOptions(){this.cropOptions.width=Number(this.cropOptions.width),this.cropOptions.height=Number(this.cropOptions.height),this.cropOptions.x=Number(this.cropOptions.x),this.cropOptions.y=Number(this.cropOptions.y),this.cropOptions.width<0&&(this.cropOptions.width=-this.cropOptions.width,this.cropOptions.x-=this.cropOptions.width,"moveTopRight"==this.mouseAction?this.mouseAction="moveTopLeft":"moveBottomRight"==this.mouseAction?this.mouseAction="moveBottomLeft":"moveTopLeft"==this.mouseAction?this.mouseAction="moveTopRight":"moveBottomLeft"==this.mouseAction&&(this.mouseAction="moveBottomRight")),this.cropOptions.height<0&&(this.cropOptions.height=-this.cropOptions.height,this.cropOptions.y-=this.cropOptions.height,"moveBottomLeft"==this.mouseAction?this.mouseAction="moveTopLeft":"moveBottomRight"==this.mouseAction?this.mouseAction="moveTopRight":"moveTopLeft"==this.mouseAction?this.mouseAction="moveBottomLeft":"moveTopRight"==this.mouseAction&&(this.mouseAction="moveBottomRight")),this.cropOptions.x<0&&(this.cropOptions.x=0),this.cropOptions.y<0&&(this.cropOptions.y=0);let t=this.canvasWidth-2*this.canvasMargin;if(this.cropOptions.x+this.cropOptions.width>t){let i=this.cropOptions.x+this.cropOptions.width-t;this.cropOptions.x-=i}let i=this.canvasHeight-2*this.canvasMargin;if(this.cropOptions.y+this.cropOptions.height>i){let t=this.cropOptions.y+this.cropOptions.height-i;this.cropOptions.y-=t}},drawBackground(t){t.save();let i=document.getElementById("original_image"),o=10,s=10,e=i.naturalHeight/s,n=i.naturalWidth/o,a="#CCCCCC",h="#EEEEEE",r=0,p=0;for(let c=0;c<e;c++)for(let i=0;i<n;i++){let e=(c+i)%2==0,n=e?a:h;t.fillStyle=n,t.fillRect(i*o+r,c*s+p,o,s)}t.restore()},drawBorder(t){t.save();let i=document.getElementById("original_image"),o=this.getRatio();t.lineWidth=1*o,t.strokeStyle="#000000",t.beginPath(),t.rect(this.canvasMargin-.5,this.canvasMargin-.5,i.naturalWidth+1,i.naturalHeight+1),t.stroke(),t.restore()},drawRect(t){let i=this.getRatio();t.lineWidth=1*i,t.strokeStyle="#ffffff",t.setLineDash([10*i,5*i]),t.beginPath(),t.rect(this.cropOptions.x+this.canvasMargin-.5,this.cropOptions.y+this.canvasMargin-.5,this.cropOptions.width+1,this.cropOptions.height+1),t.stroke(),t.restore()},drawCircles(t){this.drawCircle(t,this.cropOptions.x,this.cropOptions.y),this.drawCircle(t,this.cropOptions.x,this.cropOptions.y+this.cropOptions.height),this.drawCircle(t,this.cropOptions.x+this.cropOptions.width,this.cropOptions.y),this.drawCircle(t,this.cropOptions.x+this.cropOptions.width,this.cropOptions.y+this.cropOptions.height)},drawCircle(t,i,o){t.fillStyle="#ffffff",t.strokeStyle="#000000",t.lineWidth=2*this.getRatio();let s=5*this.getRatio();t.beginPath(),t.arc(i+this.canvasMargin,o+this.canvasMargin,s,0,2*Math.PI),t.fill(),t.stroke()},getRatio(){return 1/this.getZoom()},getZoom(){let t=document.getElementById("original_image"),i=document.getElementById("resultCanvas"),o=i.getBoundingClientRect().width-2*this.canvasMargin;return o/t.naturalWidth},onCanvasMouseLeave(){document.body.style.cursor="default"},onCanvasMouseMove(t){this.updateMousePosition(t);let i=Math.min(this.mousePosition.x,this.canvasWidth-2*this.canvasMargin),o=Math.min(this.mousePosition.y,this.canvasHeight-2*this.canvasMargin);if(i=Math.max(0,i),o=Math.max(0,o),"moveTopLeft"==this.mouseAction){let t=Math.round(i-this.cropOptions.x),s=Math.round(o-this.cropOptions.y);this.cropOptions.x+=t,this.cropOptions.y+=s,this.cropOptions.width-=t,this.cropOptions.height-=s,this.updateResultCanvas()}else if("moveTopRight"==this.mouseAction){let t=Math.round(i-(this.cropOptions.x+this.cropOptions.width)),s=Math.round(o-this.cropOptions.y);this.cropOptions.y+=s,this.cropOptions.width+=t,this.cropOptions.height-=s,this.updateResultCanvas()}else if("moveBottomLeft"==this.mouseAction){let t=Math.round(i-this.cropOptions.x),s=Math.round(o-(this.cropOptions.y+this.cropOptions.height));this.cropOptions.x+=t,this.cropOptions.width-=t,this.cropOptions.height+=s,this.updateResultCanvas()}else if("moveBottomRight"==this.mouseAction){let t=Math.round(i-(this.cropOptions.x+this.cropOptions.width)),s=Math.round(o-(this.cropOptions.y+this.cropOptions.height));this.cropOptions.width+=t,this.cropOptions.height+=s,this.updateResultCanvas()}else if("dragRect"==this.mouseAction){let t=Math.round(this.mousePosition.x-this.previousMousePosition.x),i=Math.round(this.mousePosition.y-this.previousMousePosition.y);this.cropOptions.x+=t,this.cropOptions.y+=i,this.updateResultCanvas()}else"createRect"==this.mouseAction?(this.cropOptions.x=Math.round(i),this.cropOptions.y=Math.round(o),this.cropOptions.width=0,this.cropOptions.height=0,this.mouseAction="moveBottomRight",this.updateResultCanvas()):"none"==this.mouseAction&&(this.isMouseTopLeft()?document.body.style.cursor="nw-resize":this.isMouseTopRight()?document.body.style.cursor="ne-resize":this.isMouseBottomLeft()?document.body.style.cursor="sw-resize":this.isMouseBottomRight()?document.body.style.cursor="se-resize":this.isMouseInsideRect()?document.body.style.cursor="move":document.body.style.cursor="crosshair")},onCanvasMouseUp(){this.mouseAction="none"},onCanvasMouseDown(){this.isMouseTopLeft()?this.mouseAction="moveTopLeft":this.isMouseTopRight()?this.mouseAction="moveTopRight":this.isMouseBottomLeft()?this.mouseAction="moveBottomLeft":this.isMouseBottomRight()?this.mouseAction="moveBottomRight":this.isMouseInsideRect()?this.mouseAction="dragRect":this.mouseAction="createRect"},isMouseTopLeft(){let t=this.getRatio(),i=10*t;return this.distanceMouse(this.cropOptions.x,this.cropOptions.y)<i},isMouseTopRight(){let t=this.getRatio(),i=10*t;return this.distanceMouse(this.cropOptions.x+this.cropOptions.width,this.cropOptions.y)<i},isMouseBottomLeft(){let t=this.getRatio(),i=10*t;return this.distanceMouse(this.cropOptions.x,this.cropOptions.y+this.cropOptions.height)<i},isMouseBottomRight(){let t=this.getRatio(),i=10*t;return this.distanceMouse(this.cropOptions.x+this.cropOptions.width,this.cropOptions.y+this.cropOptions.height)<i},isMouseInsideRect(){return this.mousePosition.x>this.cropOptions.x&&this.mousePosition.y>this.cropOptions.y&&this.mousePosition.x<this.cropOptions.x+this.cropOptions.width&&this.mousePosition.y<this.cropOptions.y+this.cropOptions.height},updateMousePosition(t){let i=this.getRatio(),o=document.getElementById("resultCanvas");this.previousMousePosition.x=this.mousePosition.x,this.previousMousePosition.y=this.mousePosition.y,this.mousePosition.x=(t.clientX-o.offsetLeft+window.scrollX-this.canvasMargin)*i,this.mousePosition.y=(t.clientY-o.offsetTop+window.scrollY-this.canvasMargin)*i},distance(t,i,o,s){let e=o-t,n=s-i;return Math.sqrt(e*e+n*n)},distanceMouse(t,i){return this.distance(t,i,this.mousePosition.x,this.mousePosition.y)}}},u=d,l=o(1001),m=(0,l.Z)(u,s,e,!1,null,null,null),g=m.exports}}]);