"use strict";(self["webpackChunkimage_online_tools"]=self["webpackChunkimage_online_tools"]||[]).push([[472],{4886:function(e,t,a){a.d(t,{Z:function(){return u}});var i=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{"margin-top":"10px"}},[e.relatedTools.length>0?t("div",{staticClass:"relatedToolsDiv"},[t("h4",{staticStyle:{"font-weight":"700"}},[e._v("Related tools")]),t("div",{staticClass:"divOnlineTools"},e._l(e.relatedTools,(function(a){return t("a",{key:a.slug,staticClass:"divOnlineTool",attrs:{href:"/"+a.slug}},[t("b",[e._v(e._s(a.name))]),t("p",[e._v(e._s(a.shortDescription))]),null!=a.image?t("img",{staticClass:"divOnlineTool_img",attrs:{alt:a.imageAltText,src:a.image}}):e._e()])})),0)]):e._e()])},r=[],o=a(3026),s={name:"RelatedTools",components:{},props:{toolSlug:String},data(){return{}},mounted(){},computed:{relatedTools:function(){return o.Z.listRelatedTools(this.toolSlug)}},methods:{}},n=s,l=a(1001),d=(0,l.Z)(n,i,r,!1,null,"57fb0362",null),u=d.exports},8137:function(e,t,a){a.r(t),a.d(t,{default:function(){return v}});var i=function(){var e=this,t=e._self._c;return t("div",[t("HeaderOnlineTools"),t("Breadcrumb",{attrs:{pageId:"rgb-formula-editor"}}),e._m(0),t("br"),e.uploadedImage.imageData?e._e():t("div",{staticClass:"home"},[t("h2",[e._v("Select image")]),t("input",{attrs:{type:"file",id:"inputImage"},on:{change:e.onImageUpload}})]),t("img",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticStyle:{position:"absolute",visibility:"hidden"},attrs:{src:e.uploadedImage.imageData,id:"original_image"},on:{load:e.onImageLoad}}),e.uploadedImage.imageData?t("div",{staticClass:"imageGridLayout"},[t("div"),t("div",{staticClass:"div_image"},[t("canvas",{staticStyle:{border:"1px solid #000000"},attrs:{id:"resultCanvas",width:e.canvasWidth,height:e.canvasHeight}}),t("br"),t("br"),e._m(1),t("div",[e._v("width: "+e._s(e.uploadedImage.width))]),t("div",[e._v("height: "+e._s(e.uploadedImage.height))])]),t("div",{staticClass:"div_options"},[e._m(2),e._m(3),t("div",{staticClass:"optionsLayout"},[t("div",{staticClass:"div_option"},[e._v("Red")]),t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.options.red,expression:"options.red"}],staticClass:"input_option",attrs:{type:"text"},domProps:{value:e.options.red},on:{input:[function(t){t.target.composing||e.$set(e.options,"red",t.target.value)},function(t){return e.triggerUpdateImage()}]}})]),t("div",{staticClass:"div_option"},[e._v("Green")]),t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.options.green,expression:"options.green"}],staticClass:"input_option",attrs:{type:"text"},domProps:{value:e.options.green},on:{input:[function(t){t.target.composing||e.$set(e.options,"green",t.target.value)},function(t){return e.triggerUpdateImage()}]}})]),t("div",{staticClass:"div_option"},[e._v("Blue")]),t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.options.blue,expression:"options.blue"}],staticClass:"input_option",attrs:{type:"text"},domProps:{value:e.options.blue},on:{input:[function(t){t.target.composing||e.$set(e.options,"blue",t.target.value)},function(t){return e.triggerUpdateImage()}]}})]),t("div",{staticClass:"div_option"},[e._v("Alpha")]),t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.options.alpha,expression:"options.alpha"}],staticClass:"input_option",attrs:{type:"text"},domProps:{value:e.options.alpha},on:{input:[function(t){t.target.composing||e.$set(e.options,"alpha",t.target.value)},function(t){return e.triggerUpdateImage()}]}})])]),e._m(4),t("div",[t("div",{staticClass:"div_option"},[e._v("Behaviour when RGB value is outside range [0-255]")]),t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.options.behaviourOutsideRange,expression:"options.behaviourOutsideRange"}],attrs:{type:"radio",id:"type_clamp",value:"clamp"},domProps:{checked:e._q(e.options.behaviourOutsideRange,"clamp")},on:{change:[function(t){return e.$set(e.options,"behaviourOutsideRange","clamp")},function(t){return e.triggerUpdateImage()}]}}),t("label",{attrs:{for:"type_clamp"}},[e._v("Clamp ")])]),t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.options.behaviourOutsideRange,expression:"options.behaviourOutsideRange"}],attrs:{type:"radio",id:"type_bounce",value:"bounce"},domProps:{checked:e._q(e.options.behaviourOutsideRange,"bounce")},on:{change:[function(t){return e.$set(e.options,"behaviourOutsideRange","bounce")},function(t){return e.triggerUpdateImage()}]}}),t("label",{attrs:{for:"type_bounce"}},[e._v("Bounce ")])]),t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.options.behaviourOutsideRange,expression:"options.behaviourOutsideRange"}],attrs:{type:"radio",id:"type_remainder",value:"remainder"},domProps:{checked:e._q(e.options.behaviourOutsideRange,"remainder")},on:{change:[function(t){return e.$set(e.options,"behaviourOutsideRange","remainder")},function(t){return e.triggerUpdateImage()}]}}),t("label",{attrs:{for:"type_remainder"}},[e._v("Remainder ")])])]),t("br"),t("button",{staticClass:"btn btn-lg btn-success",attrs:{type:"button"},on:{click:function(t){return e.downloadResultImage()}}},[t("IconDownload",{attrs:{size:24}}),e._v(" Download image")],1)]),t("div")]):e._e(),t("br"),e._m(5),t("RelatedTools",{attrs:{toolSlug:"rgb-formula-editor"}}),t("FooterComponent")],1)},r=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"documentationContent"},[t("h1",[e._v("RGB Formula Editor")]),t("h4",{staticStyle:{"text-align":"center",color:"#6b6b6b"}},[e._v("Transform images by applying custom RGB formulas to each pixel.")]),t("div",{staticStyle:{"text-align":"center",margin:"20px"}},[t("img",{attrs:{src:a(1056),width:"600",height:"180"}})]),t("p",[e._v("RGB Formula Editor is a "),t("b",[e._v("free online tool")]),e._v(" that allows you to edit images using a "),t("b",[e._v("custom formula")]),e._v(" for each color channel (red, green and blue) and the alpha channel.")]),t("p",[e._v("Enter formulas for red, green, blue and alpha channels and see the changes in real time.")])])},function(){var e=this,t=e._self._c;return t("div",[t("b",[e._v("Original image details:")])])},function(){var e=this,t=e._self._c;return t("div",[t("h3",[e._v("Options:")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"optionsGroupTitle"},[t("b",[e._v("Formulas:")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"optionsGroupTitle"},[t("b",[e._v("Additional configuration:")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"documentationContent"},[t("h4",[e._v("How to apply a custom RGB formula to each pixel of an image?")]),t("ol",[t("li",[e._v("Upload the image that you want to transform. The image will load in the canvas above and the options will appear beside the image.")]),t("li",[e._v("Type the formulas for the red, green, blue and alpha channels. See in the section below the variables that you can use in the formulas.")]),t("li",[e._v("You can change the formulas and see the result in real time.")]),t("li",[e._v('Click "Download image" to download the image in PNG format.')])]),t("h4",{attrs:{id:"configuration_parameters"}},[e._v("Variables")]),t("p",[e._v("The formulas can contain variables: r, g, b, a, x and y. See the table below for the description of each variable.")]),t("table",{staticClass:"documentation_table"},[t("tr",[t("th",[e._v("Variable")]),t("th",[e._v("Description")])]),t("tr",[t("td",[e._v("r")]),t("td",[e._v("The value of the red color channel of the original image, ranging from 0 to 255.")])]),t("tr",[t("td",[e._v("g")]),t("td",[e._v("The value of the green color channel of the original image, ranging from 0 to 255.")])]),t("tr",[t("td",[e._v("b")]),t("td",[e._v("The value of the blue color channel of the original image, ranging from 0 to 255.")])]),t("tr",[t("td",[e._v("a")]),t("td",[e._v("The value of the alpha channel of the original image, ranging from 0 to 255.")])]),t("tr",[t("td",[e._v("x")]),t("td",[e._v("The horizontal position of the pixel in the image, ranging from 0 to the image width minus 1.")])]),t("tr",[t("td",[e._v("y")]),t("td",[e._v("The vertical position of the pixel in the image, ranging from 0 to the image height minus 1.")])])]),t("br"),t("br"),t("h4",{attrs:{id:"configuration_parameters"}},[e._v("Examples")]),t("p",[e._v("Below are some examples of images before and after applying the formulas, together with the formulas used.")]),t("table",{staticClass:"documentation_table"},[t("tr",[t("th",[e._v("Original image")]),t("th",[e._v("Image after applying the formulas")]),t("th",[e._v("Description and formulas")])]),t("tr",[t("td",[t("img",{attrs:{src:a(2270)}})]),t("td",[t("img",{attrs:{src:a(8391)}})]),t("td",[t("b",[e._v("Example #1")]),t("p",[e._v("Grayscale")]),t("b",[e._v("Formulas:")]),t("table",{staticClass:"example_image_attributes_table"},[t("tr",[t("td",[e._v("Red")]),t("td",[e._v("(r+g+b)/3")])]),t("tr",[t("td",[e._v("Green")]),t("td",[e._v("(r+g+b)/3")])]),t("tr",[t("td",[e._v("Blue")]),t("td",[e._v("(r+g+b)/3")])]),t("tr",[t("td",[e._v("Alpha")]),t("td",[e._v("a")])])]),t("br"),t("b",[e._v("When RGB value is outside range [0-255]:")]),t("p",[e._v("Clamp")])])]),t("tr",[t("td",[t("img",{attrs:{src:a(2270)}})]),t("td",[t("img",{attrs:{src:a(318)}})]),t("td",[t("b",[e._v("Example #2")]),t("p",[e._v("Invert colors.")]),t("b",[e._v("Formulas:")]),t("table",{staticClass:"example_image_attributes_table"},[t("tr",[t("td",[e._v("Red")]),t("td",[e._v("255-r")])]),t("tr",[t("td",[e._v("Green")]),t("td",[e._v("255-g")])]),t("tr",[t("td",[e._v("Blue")]),t("td",[e._v("255-b")])]),t("tr",[t("td",[e._v("Alpha")]),t("td",[e._v("a")])])]),t("br"),t("b",[e._v("When RGB value is outside range [0-255]:")]),t("p",[e._v("Clamp")])])]),t("tr",[t("td",[t("img",{attrs:{src:a(2270)}})]),t("td",[t("img",{attrs:{src:a(7860)}})]),t("td",[t("b",[e._v("Example #3")]),t("p",[e._v("Red channel.")]),t("b",[e._v("Formulas:")]),t("table",{staticClass:"example_image_attributes_table"},[t("tr",[t("td",[e._v("Red")]),t("td",[e._v("r")])]),t("tr",[t("td",[e._v("Green")]),t("td",[e._v("0")])]),t("tr",[t("td",[e._v("Blue")]),t("td",[e._v("0")])]),t("tr",[t("td",[e._v("Alpha")]),t("td",[e._v("a")])])]),t("br"),t("b",[e._v("When RGB value is outside range [0-255]:")]),t("p",[e._v("Clamp")])])]),t("tr",[t("td",[t("img",{attrs:{src:a(2270)}})]),t("td",[t("img",{attrs:{src:a(3953)}})]),t("td",[t("b",[e._v("Example #4")]),t("p",[e._v("RGB channel swap. RGB was converted to GRB. In the example image, the grass become reddish and the woman mouth becomes green.")]),t("b",[e._v("Formulas:")]),t("table",{staticClass:"example_image_attributes_table"},[t("tr",[t("td",[e._v("Red")]),t("td",[e._v("g")])]),t("tr",[t("td",[e._v("Green")]),t("td",[e._v("r")])]),t("tr",[t("td",[e._v("Blue")]),t("td",[e._v("b")])]),t("tr",[t("td",[e._v("Alpha")]),t("td",[e._v("a")])])]),t("br"),t("b",[e._v("When RGB value is outside range [0-255]:")]),t("p",[e._v("Clamp")])])]),t("tr",[t("td",[t("img",{attrs:{src:a(2270)}})]),t("td",[t("img",{attrs:{src:a(255)}})]),t("td",[t("b",[e._v("Example #5")]),t("p",[e._v("Color quantization.")]),t("b",[e._v("Formulas:")]),t("table",{staticClass:"example_image_attributes_table"},[t("tr",[t("td",[e._v("Red")]),t("td",[e._v("r>120?255:0")])]),t("tr",[t("td",[e._v("Green")]),t("td",[e._v("g>160?255:0")])]),t("tr",[t("td",[e._v("Blue")]),t("td",[e._v("b>120?255:0")])]),t("tr",[t("td",[e._v("Alpha")]),t("td",[e._v("a")])])]),t("br"),t("b",[e._v("When RGB value is outside range [0-255]:")]),t("p",[e._v("Clamp")])])]),t("tr",[t("td",[t("img",{attrs:{src:a(2270)}})]),t("td",[t("img",{attrs:{src:a(163)}})]),t("td",[t("b",[e._v("Example #6")]),t("p",[e._v("Custom formula.")]),t("b",[e._v("Formulas:")]),t("table",{staticClass:"example_image_attributes_table"},[t("tr",[t("td",[e._v("Red")]),t("td",[e._v("r + x")])]),t("tr",[t("td",[e._v("Green")]),t("td",[e._v("g + y")])]),t("tr",[t("td",[e._v("Blue")]),t("td",[e._v("b")])]),t("tr",[t("td",[e._v("Alpha")]),t("td",[e._v("a")])])]),t("br"),t("b",[e._v("When RGB value is outside range [0-255]:")]),t("p",[e._v("Bounce")])])])]),t("br"),t("br"),t("h4",{attrs:{id:"configuration_parameters"}},[e._v("Configuration parameters")]),t("p",[t("b",[e._v("Formulas")])]),t("table",{staticClass:"documentation_table"},[t("tr",[t("th",[e._v("Field")]),t("th",[e._v("Description")])]),t("tr",[t("td",[e._v("Red")]),t("td",[e._v("The formula for the red color channel. Must evaluate to a number between 0 and 255.")])]),t("tr",[t("td",[e._v("Green")]),t("td",[e._v("The formula for the green color channel. Must evaluate to a number between 0 and 255.")])]),t("tr",[t("td",[e._v("Blue")]),t("td",[e._v("The formula for the blue color channel. Must evaluate to a number between 0 and 255.")])]),t("tr",[t("td",[e._v("Alpha")]),t("td",[e._v("The formula for the alpha channel. Must evaluate to a number between 0 and 255.")])])]),t("br"),t("br"),t("p",[t("b",[e._v("Additional configuration")])]),t("table",{staticClass:"documentation_table"},[t("tr",[t("th",[e._v("Field")]),t("th",[e._v("Description")])]),t("tr",[t("td",[e._v("Behaviour when RGB value is outside range [0-255]")]),t("td",[t("p",[e._v("The formulas for red, green, blue and alpha channels must evaluate to numbers in the range between 0 and 255.")]),t("p",[e._v("For any pixel, if a formula evaluate to a value outside this range, the value will be automatically adjusted to be in that range, based on the selected configuration (clamp, bounce or remainder).")]),t("p",[e._v("This parameter determines how the values will be adjusted to belong to the range, when needed.")]),t("table",{staticClass:"documentation_table"},[t("tr",[t("th",[e._v("Option")]),t("th",[e._v("Description.")])]),t("tr",[t("td",[t("b",[e._v("Clamp")])]),t("td",[e._v("If the value is lower than 0, it will be changed to 0 and if the value is greater than 255 it will be changed to 255.")])]),t("tr",[t("td",[t("b",[e._v("Bounce")])]),t("td",[e._v('The value will keep "bouncing" between the min and max values (between 0 and 255).')])]),t("tr",[t("td",[t("b",[e._v("Remainder")])]),t("td",[e._v("It will be applied the modulo (division remainder).")])])])])])])])}],o=a(8528),s=a(8405),n=a(4886),l=a(4138),d=a(7e3),u=a(3162),m={name:"RgbFormulaEditor",components:{RelatedTools:n.Z,HeaderOnlineTools:o.Z,FooterComponent:s.Z,IconDownload:d.Z,Breadcrumb:l.Z},data(){return{canvasWidth:100,canvasHeight:100,uploadedImage:{imageData:null,width:null,height:null},options:{red:"r",green:"g",blue:"b",alpha:"a",behaviourOutsideRange:"clamp"},commitedOptions:{red:"r",green:"g",blue:"b",alpha:"a",behaviourOutsideRange:"clamp"},formulas:{red:{func:new Function("r","g","b","a","x","y","return r;"),isValid:!0,errorMessage:""},green:{func:new Function("r","g","b","a","x","y","return g;"),isValid:!0,errorMessage:""},blue:{func:new Function("r","g","b","a","x","y","return b;"),isValid:!0,errorMessage:""},alpha:{func:new Function("r","g","b","a","x","y","return a;"),isValid:!0,errorMessage:""}}}},methods:{onImageUpload(e){const t=e.target.files[0];window.file=t;let a=this,i=new FileReader;i.readAsDataURL(t),i.onload=function(){a.uploadedImage.imageData=i.result,a.$forceUpdate()},i.onerror=function(e){console.log("Error: ",e)}},onImageLoad(){let e=document.getElementById("original_image");this.uploadedImage.width=e.naturalWidth,this.uploadedImage.height=e.naturalHeight,this.canvasWidth=e.naturalWidth,this.canvasHeight=e.naturalHeight,this.$nextTick((()=>{this.updateResultCanvas()}))},downloadResultImage(){let e=document.getElementById("resultCanvas"),t=e.getContext("2d"),a=t.canvas.width,i=t.canvas.height,r=document.createElement("canvas");r.width=a,r.height=i,this.updateCanvas(r,!1),r.toBlob((function(e){(0,u.saveAs)(e,"Image.png")}))},triggerUpdateImage(){this.updateResultCanvas()},updateResultCanvas(){let e=document.getElementById("resultCanvas");this.updateCanvas(e,!1)},updateCanvas(e){let t=document.getElementById("original_image"),a=e.getContext("2d");a.drawImage(t,0,0),this.commitOptions(),this.updateFormulas(),this.drawImage(e)},commitOptions(){this.commitedOptions.red=this.options.red,this.commitedOptions.green=this.options.green,this.commitedOptions.blue=this.options.blue,this.commitedOptions.alpha=this.options.alpha,this.commitedOptions.behaviourOutsideRange=this.options.behaviourOutsideRange},updateFormulas(){try{this.formulas.red.func=new Function("r","g","b","a","x","y",`return ${this.commitedOptions.red};`),this.formulas.red.isValid=!0,this.formulas.red.errorMessage=null}catch(e){this.formulas.red.isValid=!1,this.formulas.red.errorMessage="Error: "+e.message}try{this.formulas.green.func=new Function("r","g","b","a","x","y",`return ${this.commitedOptions.green};`),this.formulas.green.isValid=!0,this.formulas.green.errorMessage=null}catch(e){this.formulas.green.isValid=!1,this.formulas.green.errorMessage="Error: "+e.message}try{this.formulas.blue.func=new Function("r","g","b","a","x","y",`return ${this.commitedOptions.blue};`),this.formulas.blue.isValid=!0,this.formulas.blue.errorMessage=null}catch(e){this.formulas.blue.isValid=!1,this.formulas.blue.errorMessage="Error: "+e.message}try{this.formulas.alpha.func=new Function("r","g","b","a","x","y",`return ${this.commitedOptions.alpha};`),this.formulas.alpha.isValid=!0,this.formulas.alpha.errorMessage=null}catch(e){this.formulas.alpha.isValid=!1,this.formulas.alpha.errorMessage="Error: "+e.message}},drawImage(e){const t=e.getContext("2d"),{width:a,height:i}=e,r=t.getImageData(0,0,a,i);t.clearRect(0,0,a,i);for(let s=0;s<a;s++)for(let e=0;e<i;e++){let t=4*(e*a+s),i=r.data[t],n=r.data[t+1],l=r.data[t+2],d=r.data[t+3],u=0;try{u=this.formulas.red.func(i,n,l,d,s,e),this.formulas.red.isValid=!0,this.formulas.red.errorMessage=null}catch(o){throw this.formulas.red.isValid=!1,this.formulas.red.errorMessage="Error: "+o.message,o}let m=0;try{m=this.formulas.green.func(i,n,l,d,s,e),this.formulas.green.isValid=!0,this.formulas.green.errorMessage=null}catch(o){throw this.formulas.green.isValid=!1,this.formulas.green.errorMessage="Error: "+o.message,o}let h=0;try{h=this.formulas.blue.func(i,n,l,d,s,e),this.formulas.blue.isValid=!0,this.formulas.blue.errorMessage=null}catch(o){throw this.formulas.blue.isValid=!1,this.formulas.blue.errorMessage="Error: "+o.message,o}let g=0;try{g=this.formulas.alpha.func(i,n,l,d,s,e),this.formulas.alpha.isValid=!0,this.formulas.alpha.errorMessage=null}catch(o){throw this.formulas.alpha.isValid=!1,this.formulas.alpha.errorMessage="Error: "+o.message,o}"clamp"==this.commitedOptions.behaviourOutsideRange?(u=this.clamp(u,0,255),m=this.clamp(m,0,255),h=this.clamp(h,0,255)):"remainder"==this.commitedOptions.behaviourOutsideRange?(u=this.remainder(u,255),m=this.remainder(m,255),h=this.remainder(h,255)):"bounce"==this.commitedOptions.behaviourOutsideRange&&(u=this.bounceValue(u,0,255),m=this.bounceValue(m,0,255),h=this.bounceValue(h,0,255)),r.data[t]=u,r.data[t+1]=m,r.data[t+2]=h,r.data[t+3]=g}t.putImageData(r,0,0)},clamp(e,t,a){return Math.max(t,Math.min(e,a))},remainder(e,t){return(e%t+t)%t},bounceValue(e,t,a){const i=a-t;return e=(e-t)%(2*i),e<0&&(e+=2*i),e>i&&(e=2*i-e),e+t}}},h=m,g=a(1001),c=(0,g.Z)(h,i,r,!1,null,null,null),v=c.exports},255:function(e,t,a){e.exports=a.p+"img/color-quantization.5046c204.png"},163:function(e,t,a){e.exports=a.p+"img/custom-formula.9b4ec876.png"},8391:function(e,t,a){e.exports=a.p+"img/grayscale.a59aa864.png"},318:function(e,t,a){e.exports=a.p+"img/invert-colors.994dc37c.png"},2270:function(e,t,a){e.exports=a.p+"img/original-image.9c47d8e6.png"},7860:function(e,t,a){e.exports=a.p+"img/red-channel.03e79253.png"},3953:function(e,t,a){e.exports=a.p+"img/rgb-channel-swap.4cce23f5.png"},1056:function(e,t,a){e.exports=a.p+"img/images-transformed-using-rgb-formula.bafde572.png"}}]);